<div class="container" style="margin-top: 200px;">
  <h1 class="text-center mb-5">Fees to pay (Order ID #{{orderId}})</h1>
  <p-table [value]="fees">
    <ng-template pTemplate="header">
      <tr>
        <!-- <th>ID</th> -->
        <th>Fee Name</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Due Date</th>
        <th>Status</th>
        <th>Select to Pay</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-fee>
      <tr>
        <!-- <td>{{ fee.id }}</td> -->
        <td>{{ fee.name }}</td>
        <td>{{ fee.feeCategoryName }}</td>
        <td>{{ fee.amount | currency }}</td>
        <td>{{ fee.paymentDate | date }}</td>
        <td>
          <ng-container [ngSwitch]="fee.feeStatus">
            <ng-container *ngSwitchCase="0">
                <p-tag severity="warning" value="Unpaid"></p-tag>
            </ng-container>
            <ng-container *ngSwitchCase="2">
                <p-tag severity="danger" value="Overdue"></p-tag>
            </ng-container>
            <ng-container *ngSwitchCase="1">
                <p-tag severity="success" value="Paid"></p-tag>
            </ng-container>
        </ng-container>
        </td>
        <td>
          <p-checkbox
            [binary]="true"
            [disabled]="fee.feeStatus === 1"
            (onChange)="onFeeSelectionChange(fee.id, $event.checked)"
          ></p-checkbox>
        </td>
      </tr>
    </ng-template>
  </p-table>
  <button
    ngClass="w-100 my-5"
    pButton
    type="button"
    label="Process to checkout"
    (click)="paySelectedFees()"
    [disabled]="selectedFeeIds.length === 0"
  ></button>
</div>
